<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vortisys</title>
    <link rel="icon" type="image/x-icon" href="/images/Vortisys_pg1_pics11.png" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?display=swap&family=Space+Grotesk:wght@400;500;700&family=Inter:wght@400;500;600;700" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="./chat.css" />
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h2>Vortisys</h2>
                <button id="close-sidebar" class="icon-button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="ai-switcher">
                <h3>Choose AI Assistant</h3>
                <div class="assistant-options">
                    <button class="assistant-btn active" data-assistant="sidekick">
                        <i class="fas fa-rocket"></i>
                        <span>DeFi AI "Sidekick"</span>
                    </button>
                    <button class="assistant-btn" data-assistant="navigator">
                        <i class="fas fa-palette"></i>
                        <span>NFT AI "Navigator"</span>
                    </button>
                    <button class="assistant-btn" data-assistant="builder">
                        <i class="fas fa-code"></i>
                        <span>Dev AI "Builder"</span>
                    </button>
                </div>
            </div>
            
            <button id="new-chat-button" class="new-chat-btn">
                <i class="fas fa-plus"></i>
                <span>New Chat</span>
            </button>
            
            <div class="chat-history">
                <h3>Previous Chats</h3>
                <div id="previous-chats" class="previous-chats-list"></div>
            </div>
            
            <div class="sidebar-footer">
                <button class="settings-btn">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </button>
                <div class="wallet-connect">
                    <button id="connect-wallet" class="connect-wallet-btn">
                        <i class="fas fa-wallet"></i>
                        <span>Connect Wallet</span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <header class="main-header">
                <button id="sidebar-toggle" class="icon-button">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="current-assistant">
                    <div class="assistant-icon sidekick">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h1>DeFi AI "Sidekick"</h1>
                </div>
                <div class="network-status">
                    <span class="status-indicator online"></span>
                    <span>Solana Mainnet</span>
                </div>
            </header>

            <div class="chat-container">
                <div id="chat-messages" class="messages-container"></div>
                
                <div class="suggestion-chips">
                    <button class="chip sidekick" data-prompt="Show me the best APY for staking SOL right now">Best SOL staking APY</button>
                    <button class="chip sidekick" data-prompt="Swap 10 SOL to USDC at the best rate">Swap 10 SOL to USDC</button>
                    <button class="chip navigator" data-prompt="What are the trending NFT collections?" style="display: none">Trending NFTs</button>
                    <button class="chip navigator" data-prompt="Show me the rarity score for my NFT" style="display: none">Check NFT rarity</button>
                    <button class="chip builder" data-prompt="Help me debug this Anchor program error" style="display: none">Debug Anchor error</button>
                    <button class="chip builder" data-prompt="Generate a token swap contract" style="display: none">Create token swap</button>
                </div>
                
                <div class="input-container">
                    <textarea 
                        id="user-input" 
                        placeholder="Ask Sidekick about DeFi opportunities..."
                        rows="1"
                    ></textarea>
                    <button id="send-button" class="send-button">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Load Solana libraries with specific variable names -->
<script>
    let solanaLibsLoaded = false;
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.73.0/lib/index.iife.min.js" 
    onload="window.solanaWeb3 = solanaWeb3; solanaLibsLoaded = true;"></script>
  <script src="https://cdn.jsdelivr.net/npm/@solana/wallet-adapter-base@0.9.20/lib/index.iife.min.js"
    onload="window.solanaWalletAdapterBase = solanaWalletAdapterBase;"></script>
  <script src="https://cdn.jsdelivr.net/npm/@solana/wallet-adapter-wallets@0.19.9/lib/index.iife.min.js"
    onload="window.solanaWalletAdapterWallets = solanaWalletAdapterWallets;"></script>
    
    <!-- Load your app script -->
    <script src="./chat.js"></script>
</body>
</html>